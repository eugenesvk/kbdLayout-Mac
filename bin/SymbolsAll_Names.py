#!/usr/bin/env python3

import os
import unicodedata

# paste all the characters that the layouts support here, duplicates are fine
allChars =r"""
<!-- ` 1 2 3 4 5  6 7 8 9 0 - = âŒ«       -->
<!-- ~ ! @ # $ %  ^ & * ( ) _ +    â‡§    -->
<!-- ` Â¹ Â² Â³ $ â€°  â†‘ Â§ âˆ â† â†’ â€” â‰       âŒ¥  -->
<!-- â—ŒÌ€ Â¡ Â½ â…“ Â¼ â€± â—ŒÌ‚ Â¿ Â· â€¹ â€º â€“ Â±    â‡§ âŒ¥ -->
<!-- â—ŒÌ€ â—ŒÌ â—ŒÌ€ â—ŒÌˆ â—ŒÌƒ â—ŒÌ„  â—ŒÌ‚ â—ŒÌŠ â—ŒÌ‡ â—ŒÌ† â—ŒÌŒ â—ŒÌ£ â—ŒÌ§     ^   -->
<!-- Â§ Â¡ â„¢ Â£ Â¢ âˆ  Â§ Â¶ â€¢ Âª Âº â€“ â‰  âˆ  ^âŒ¥ -->
<!-- Â± â„ â‚¬ â€¹ â€º ï¬  ï¬‚ â€¡ Â° Â· â€š â€” Â± âŒ« â‡§^âŒ¥ -->

<!-- â‡¥ q w e r  t  y u  i o  p [ ]      -->
<!--                            { }  â‡§   -->
<!--    â‹ âˆ‘ â‚¬ â—Š ğŸ•±Ï€ Â¥ ğŸ•±â€ â—Œ ğŸ•±Ñ£ â€² [ ]    âŒ¥ -->
<!--    â—ŒÌ† âŒƒ â‡ª â—ŒÌŠ â„ƒ   â—ŒÌ£  â—ŒÌ‡  â—ŒÌ„ â€³ { }  â‡§ âŒ¥ -->
<!--                                 ^   -->
<!-- â‡¥ Å“ âˆ‘ â—ŒÌ  Â® â€   Â¥ â—ŒÌˆ  â—ŒÌ‚  Ã¸ Ï€ â€œ â€˜   ^âŒ¥ -->
<!-- â‡¤ Å’ â€ Â´ â€°  Ë‡  Ã Â¨  Ë†  Ã˜ âˆ â€ â€™  â‡§^âŒ¥ -->

<!--   a s d f  g h j k l ;  ' \      -->
<!--                      :  " |  â‡§   -->
<!--   â‰ˆ Â§ Â° Â£  Ï€ â‚½ â€ â€œ â€ â€˜  â€™ Ã·     âŒ¥-->
<!--   âŒ¥â‡§ âŒ€ â„‰ âŒ˜ â—ŒÌ‹ âœ“ âˆš Î» â—ŒÌˆ ï£¿ Â¦ â‡§ âŒ¥ -->
<!--           ğŸ•±Îµ         â—Œ â—Œ      ^  -->
<!--   Ã¥ ÃŸ âˆ‚ Æ’  Â© Ë™ âˆ† Ëš Â¬ â€¦  Ã¦ Â«   ^âŒ¥ -->
<!--   Ã… Ã Ã Ã  Ë Ã“ Ã” ï£¿ Ã’ Ãš Ã† Â»  â‡§^âŒ¥ -->

<!-- ` z x  c v b n  m , . /        -->
<!-- ~                 < > ?  â‡§    -->
<!-- ` Î© Ã— ğŸ•±Â© â†“ ÃŸ Â¶  âˆ’ Â« Â» Ã·     âŒ¥ -->
<!-- â—ŒÌ€ â—ŒÌ§ âœ—  Â¢ â—ŒÌŒ áº â—ŒÌƒ  â€¢ â€ â€œ â—ŒÌ  â‡§ âŒ¥ -->
<!--                ğŸ•±Ï€         ^   -->
<!-- â—ŒÌ€ Î© â‰ˆ  Ã§ âˆš âˆ« â—ŒÌƒ  Âµ â‰¤ â‰¥ Ã·   ^âŒ¥ -->
<!-- ` Â¸ Ë›  Ã‡ â—Š Ä± Ëœ  Ã‚ Â¯ Ë˜ Â¿  â‡§^âŒ¥ -->

Diacritics: â—ŒÌ€Â `grave` â—ŒÌÂ `acute` â—ŒÌˆÂ `diaeresis` â—ŒÌƒÂ `tilde` â—ŒÌ„Â `macron` â—ŒÌ‚Â `circumflex` â—ŒÌŠÂ `ring` â—ŒÌ‡Â `dot-above` â—ŒÌ†Â `breve` â—ŒÌŒÂ `caron` â—ŒÌ£Â `dot-below` â—ŒÌ§Â `cedilla` â—ŒÌ¨Â `ogonek` â—ŒÌ‹Â `double-acute` â—ŒÌ‰Â `hook-above` â—ŒÌ›Â `horn`
| â—ŒÌ€Â `grave`Â Â Â Â Â Â Â Â Â          | Ã€Ã  Ã¨Ãˆ Ã¬ÃŒ Ã²Ã’ Ã¹Ã™ Ç¹Ç¸ áº€áº á»³á»²  `  Ì€ |
  | â—ŒÌÂ `acute`Â Â Â Â Â Â Â Â Â          | ÃÃ¡ Ã©Ã‰ Ã­Ã Ã³Ã“ ÃºÃš Ã½Ã Ä†Ä‡ Ä¹Äº Å„Åƒ Å”Å• ÅšÅ› Å¹Åº Ç´Çµ á¸¾á¸¿ á¹”á¹• áº‚áºƒ  Â´ Ì |
  | â—ŒÌˆÂ `diaeresis`Â Â             | Ã„Ã¤ Ã«Ã‹ Ã¯Ã Ã¶Ã– Ã¼Ãœ Ã¿Å¸ áº„áº… áºŒáº Â¨ Ìˆ |
  | â—ŒÌƒÂ `tilde`Â Â Â Â Â Â Â Â Â          | ÃƒÃ£ Ã±Ã‘ ÃµÃ• Ä©Ä¨ Å©Å¨ á¹¼á¹½ á»¹á»¸  Ëœ Ìƒ |
  | â—ŒÌ„Â `macron`Â Â Â Â Â Â Â           | ÄÄ€ Ä“Ä’ Ä«Äª ÅÅŒ Å«Åª È³È² á¸¡á¸  Â¯ Ì„  <kbd>âŒ¥</kbd><kbd>â‡§</kbd><kbd>q</kbd> á·Œ   |
  | â—ŒÌ‚Â `circumflex`Â             | Ã‚Ã¢ ÃªÃŠ Ã®Ã Ã´Ã” Ã»Ã› ÄˆÄ‰ ÄœÄ Ä¤Ä¥ Ä´Äµ ÅœÅ Å´Åµ Å·Å¶ áºáº‘  Ë† Ì‚ |
  | â—ŒÌŠÂ `ring`Â Â Â Â Â Â Â Â Â Â Â         | Ã…Ã¥ Å¯Å® Ëš ÌŠ |
  | â—ŒÌ‡Â `dot-above`Â Â Â            | È¦È§ ÄŠÄ‹ Ä—Ä– Ä Ä¡ È¯È® á¸‚á¸ƒ á¸Šá¸‹ á¸á¸Ÿ á¸¢á¸£ Ä°  á¹€á¹ á¹…á¹„ á¹–á¹— á¹˜á¹™ á¹ á¹¡ á¹ªá¹« áº†áº‡ áºŠáº‹ áºáº Å»Å¼  Ë™  Ì‡ |
  | â—ŒÌ†Â `breve`Â Â Â Â Â Â Â Â Â          | Ä‚Äƒ Ä•Ä” ÄÄŸ Ä­Ä¬ ÅÅ Å­Å¬ Ë˜ Ì†  <kbd>âŒ¥</kbd><kbd>â‡§</kbd><kbd>o</kbd> á·‹ |
  | â—ŒÌŒÂ `caron`Â Â Â Â Â Â Â Â Â          | ÄŒÄ ÄÄ Ä›Äš ÅˆÅ‡ Å˜Å™ Å Å¡ Å¤Å¥ Å½Å¾ ÇÇ ÇÇ Ç°  Ç’Ç‘ Ç”Ç“ Ç¦Ç§ Ç¨Ç© ÈÈŸ Ë‡ ÌŒ   |
  | â—ŒÌ£Â `dot-below`Â Â             | á¸„á¸… á¸Œá¸ á¸¤á¸¥ á¸²á¸³ á¸¶á¸· á¹‚á¹ƒ á¹‡á¹† á¹šá¹› á¹¢á¹£ á¹¬á¹­ á¹¾á¹¿ áºˆáº‰ áº’áº“ áº áº¡ áº¹áº¸ á»á»Œ á»¥á»¤ á»µá»´  Ì£  Ì£ |
  | â—ŒÌ§Â `cedilla`Â Â Â Â Â Â           | Ã‡Ã§ Ä¢Ä£ Ä¶Ä· Ä»Ä¼ Å†Å… Å–Å— ÅÅŸ Å¢Å£ È©È¨ á¸á¸‘ á¸¨á¸©  Ì§ Â¸ |
  | â—ŒÌ¨Â `ogonek`Â Â Â Â Â Â Â Â          | Ä…Ä„ Ä™Ä˜ Ä¯Ä® Ç«Çª Å³Å² Ë›  Ì¨  |
  | â—ŒÌ‹Â `double-acute`           | ÅÅ‘ Å°Å± Ë Ì‹ |
  | â—ŒÌ‰Â `hook-above`Â Â            | áº£áº¢ áº»áºº á»‰á»ˆ á»á» á»§á»¦ á»·á»¶ Ì‰  |
  | â—ŒÌ›Â `horn`Â Â Â Â Â Â Â Â Â Â Â Â        | Æ¡Æ  Æ°Æ¯  Ì›  |
  |   __Combo__                 |     |
  | â—ŒÌÌ‡ `acute+dot-above`       | á¹¥á¹¤ |
  | â—ŒÌˆÌ„ `diaeresis+macron`      | ÇŸÇ È«Èª Ç–Ç• |
  | â—ŒÌƒÌ„ `tilde+macron`          | È­È¬ |
  | â—ŒÌ„Ì€Â `macron+grave`          | á¸•á¸” á¹‘á¹ á·†  á·…  |
  | â—ŒÌ„ÌÂ `macron+acute`          | á¸—á¸– á¹“á¹’ á·„  á·‡  |
  | â—ŒÌ‚Ì£ `circumflex+dot-below`  | áº­áº¬ á»‡á»† á»™á»˜ |
  | â—ŒÌ‚Ì‰ `circumflex+hook-above` | áº©áº¨ á»ƒá»‚ á»•á»” |
  | â—ŒÌ‡ `dot-above`              | È¦È§ Ä–Ä— È®È¯ áºáº Ä° Å»Å¼ á¸‚á¸ƒ ÄŠÄ‹ á¸Šá¸‹ á¸á¸Ÿ Ä Ä¡ á¸¢á¸£ á¹€á¹ á¹„á¹… á¹–á¹— á¹˜á¹™ á¹ á¹¡ á¹ªá¹« áº†áº‡ áºŠáº‹ Ë™  Ì‡  |
  | â—ŒÌ‡Ì„ `dot-above+macron`      | Ç¡Ç  È±È° |
  | â—ŒÌ£Ì£ `dot-below`             | áº áº¡ áº¸áº¹ á»Œá» á»¤á»¥ á»´á»µ á¸„á¸… á¸Œá¸ á¸¤á¸¥ á¸²á¸³ á¸¶á¸· á¹‚á¹ƒ á¹†á¹‡ á¹šá¹› á¹¢á¹£ á¹¬á¹­ á¹¾á¹¿ áºˆáº‰ áº’áº“  Ì£  |
  | â—ŒÌ£Ì„ `dot-below+macron`      | á¸¹á¸¸ á¹á¹œ |
  | â—ŒÌ£Ì‡ `dot-below+dot-above`   | á¹©á¹¨ |
  | â—ŒÌ†Ì‰ `breve+hook-above`      | áº³áº² |
  | â—ŒÌ†Ì£ `breve+dot-below`       | áº·áº¶ |
  | â—ŒÌŒÌ‡ `caron+dot-above`       | á¹§á¹¦ |
  | â—ŒÌ¨Ì„ `ogonek+macron`         | Ç­Ç¬ |
  | â—ŒÌ›Ì£ `horn+dot-below`        | á»£á»¢ á»±á»° |
  | â—ŒÌ›Ì‰ `horn+hook-above`       | á»Ÿá» á»­á»¬ |
  | â—ŒÌ›Ìƒ `horn+tilde`            | á»¡á»  á»¯á»® |
  | â—ŒÌ›Ì `horn+acute`            | á»›á»š á»©á»¨ |
  | â—ŒÌ›Ì€ `horn+grave`            | á»á»œ á»«á»ª |

  âƒ£   Combining Enclosing Keycap

Math: ğŸ•± Î± Î² Î³ Î“ Î´ Î” Îµ Î¶ Î· Î¸ Î˜ Î¹ Îº Î» Î› Î¼ Î½ Î¾ Î Ï€ Î  Ï Ïƒ Î£ Ï„ Ï… Ï† Î¦ Ï‡ Ïˆ Î¨ Ï‰ Î© â„‚ â„• â„š â„ â„¤ â€ â€œ Â¶ Â° â€¦ âŒŠ âŒ‹ âŒˆ âŒ‰ ã€ˆ ã€‰ âŸ¦ âŸ§
â†‘ â†“ â‡‘ â‡“ â† â†’ â†” â‡ â‡’ â‡” âŸµ âŸ¶ âŸ· âŸ¸ âŸ¹ âŸº â†¦ â¤‡ âŸ¼ âŸ¾ â‡€ â‡ Â¬ âˆ¨ âˆ§ âˆ€ âˆƒ âˆ„
ï¼ âŠ¦ âŠ© âŠ§ âŸ‚ âŠ¥ âˆ… âˆˆ âˆ‰ âˆª âˆ© â«› âŠ‚ âŠƒ âŠ† âŠ‡ âˆ— Ã· Ã— ï½œ â€– âˆ¤ â— â–· â—‡ âˆ˜ Â· âŠ— âŠ› âŠ– âŠ• âŠ˜ âŠ™ â‰ â‰  â‰¡ â‰ˆ â‰… â‰¤ â‰¥ âˆ´ âˆµ âˆ âˆ‡ Â² Â³ âˆš

Spaces: Â â â€‹â€Šâ€‰â€¯â€ˆâ€‡â€‚â€ƒâ£â â€‘

Typographical: âŸ¨ âŸ© â‚ â€¸ â â€ â’ Â¤ â€  â€¡ â¹€ â¸— â„® Âº Âª â§ â™€ â™‚ âš¥ â˜ â€½ â„– âŒ‘ â€´ â— â€ ğŸ•± ğŸ’€ â˜ 
ï£¿ âŒ¦ â‹ â‡ â‡Ÿ â†– â†˜ âŒ§ â â†© â†µ â âŒ¤

  Old Cyrillic
  Â Â§Â 1Â 2Â 3Â 4Â 5Â 6Â 7Â 8Â 9Â 0Â -Â =Â 
  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ÒÂ  Â  Â  Â r
  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Ò€Â  Â  Â  Â â‡§

  Â qÂ wÂ eÂ rÂ tÂ yÂ uÂ iÂ oÂ pÂ [Â ]Â 
  Â Ñ³Â Ñ¡Â Ñ£Â Ñ¯Â Ñ”Â  Â ÑµÂ Ñ–Â  Â ê™Â  Â  Â r
  Â Ñ²Â Ñ Â Ñ¢Â Ñ®Â Ğ„Â  Â Ñ´Â Ğ†Â  Â ê™€Â  Â  Â â‡§
  Â  Â  Â  Â  Â  Â  Â  Â Ñ—Â  Â ê™ƒÂ  Â  Â âŒ¥
  Â  Â  Â  Â  Â  Â  Â  Â Ğ‡Â  Â ê™‚Â  Â  Â â‡§âŒ¥

  Â aÂ sÂ dÂ fÂ gÂ hÂ jÂ kÂ lÂ ;Â 'Â \Â 
  Â  Â ê™‘Â  Â Ñ§Â  Â  Â ê™‹Â  Â  Â ê™‰Â Ñ¥Â  Â r
  Â  Â ê™Â  Â Ñ¦Â  Â  Â ê™ŠÂ  Â  Â ê™ˆÂ Ñ¤Â  Â â‡§
  Â  Â  Â  Â Ñ©Â  Â  Â  Â  Â  Â  Â  Â  Â âŒ¥
  Â  Â  Â  Â Ñ¨Â  Â  Â  Â  Â  Â  Â  Â  Â â‡§âŒ¥

  Â `Â zÂ xÂ cÂ vÂ bÂ nÂ mÂ ,Â .Â /Â 
  Â  Â Ñ«Â  Â Ñ±Â  Â  Â  Â  Â Ñ£Â ê™—Â  Â r
  Â  Â ÑªÂ  Â Ñ°Â  Â  Â  Â  Â Ñ¢Â ê™–Â  Â â‡§
  Â  Â Ñ­Â  Â  Â  Â  Â  Â  Â  Â  Â  Â âŒ¥
  Â  Â Ñ¬Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â‡§âŒ¥

Copyright: Â® â„¢ (É”) â„— â„  ğŸ„¯ Â©

Greek
<!-- Greek -->
<!-- Â§                                 -->
<!--                               âŒ¥  -->
<!-- Â±                            â‡§  -->
<!--   Â¹ Â² Â³ Â£ Â§ Â¶ Â° â€¢ â€œ Â° Â± Â½     âŒ¥ -->
<!-- Îœ Î­ Î¯ Î® ÏŒ Î ^   Î¡ Îš Ï _ +    â‡§âŒ¥ -->
<!--   Ï‚ Ï‰ Îµ Ï Ï„ Ï… Î¸ Î¹ Î¿ Ï€           -->
<!--   â—ŒÎ… Î© Î• Î¡ Î¤ Î¥ Î˜ Î™ ÎŸ Î        â‡§  -->
<!--   Â· â€• â‚¬ Â® â„¢ Â¥ Â­ â€  Å“ â‰ˆ Â« Â»       âŒ¥ -->
<!--   â€• Î’ Îˆ Î”     Î Î Î¤   { }    â‡§âŒ¥-->
<!--   Î± Ïƒ Î´ Ï† Î³ Î· Î¾ Îº Î» â—ŒÎ„           -->
<!--   Î‘ Î£ Î” Î¦ Î“ Î— Î Îš Î›  â—ŒÌˆ       â‡§   -->
<!--   â€¦ ÃŸ Ã· â‰  Â© Â½ â‰¤ â‰¥ Â¬ â—ŒÎ… ' Â¦     âŒ¥ -->
<!--   Î¬ Ï   Î  Îª â‰  Â§ Â° Â·  : " Î–   â‡§âŒ¥ -->
<!--   Î¶ Ï‡ Ïˆ Ï‰ Î² Î½ Î¼                  -->
<!--   Î– Î§ Î¨ Î© Î’ Î Îœ              â‡§  -->
<!-- ` Â§   Ã§ Â±   â€˜ â€™ Â« Â» /          âŒ¥-->
<!-- Îœ     Î§ Î†   ÎŒ Î   Ï ?        â‡§âŒ¥ -->
greek-tonos â—ŒÎ„: Î­Îˆ ÏÎ Î¯ÎŠ ÏŒÎŒ Î¬Î† Î®Î‰ ÏÎ
diaeresis-greek â—ŒÌˆ: Ï‹Î« ÏŠÎª
greek-dialytika-tonos â—ŒÎ…: Î° Î
"""

charExclude = r"""
<!-- English TypES -->
<!-- ` 1 2 3 4 5 6 7 8 9 0 - = -->
<!--   q w e r t y u i o p [ ] -->
<!--   a s d f g h j k l ; ' \ -->
<!-- ` z x c v b n m , . /     -->
<!--   Q W E R T Y U I O P     -->
<!--   A S D F G H J K L       -->
<!-- ` Z X C V B N M           -->
"""

outHeader = """\
| Symbol  | U+â€¦  | HTML | Unicode name |
| :-----: | :--: | :--: | :----------- |
"""

charNm     	= ''
charList   	= []
filePathRel	= '../helper/SymbolsAll_Names.md'
scriptPath 	= os.path.dirname(__file__)
targetFile 	= os.path.join(scriptPath, filePathRel)

for char in allChars:
  if char not in charExclude:
    charNm     	= unicodedata.name(char,'').title()
    codepoint  	= ord(char)
    codepoint_u	= 'u+{:04x}'.format(codepoint)       # four-digit lowercase hex
    code_html  	= '&#{};'.format(codepoint)
    if charNm:
      if (codepoint_u,code_html, char,charNm) not in charList: # include only unique symbols
        charList.append((codepoint_u,code_html, char,charNm))

charListSorted	= sorted(charList)                   # sort symbols by Unicode number

print('Saving symbols to ' + os.path.abspath(targetFile))
with open(targetFile, "wt") as file:                 # write 'Symbol U+code Name' to 'SymbolsAll_Names.txt'
  file.write(outHeader)
  for charQuad in charListSorted:
    # print(charQuad[1] +' '+ charQuad[0] +' '+ charQuad[2])
    file.write('| '+ charQuad[2] +' | `'+ charQuad[0] +'` | `'+ charQuad[1] +'` | '+ charQuad[3] +' |')
    file.write("\n")
